[core]
	excludesfile = ~/.config/git/ignore
	editor = vim
	autocrlf = input
	; safecrlf = warn
	hideDotFiles = dotGitOnly
	pager = less
	untrackedCache = true

[user]
	name = Jason Karns
	email = jason@karns.name
	signingkey = A9B1B726

[github]
	user = jasonkarns
[hub]
	host = github.shuttercorp.net

[alias]
	st = status
	ci = commit --verbose
	br = branch
	co = checkout
	cam = commit --amend --reuse-message=HEAD
	hist = log --graph --date=short --pretty=format:\"%C(yellow)%h%C(reset) %C(green)%ad%C(reset) %C(red)|%C(reset) %s%C(red)%d %C(reset)- %an%C(reset)\"
	glog = log --date=relative

	ap = add --patch
	cop = checkout --patch
	rp = reset --patch

	d = diff
	dc = diff --cached
	ds = diff --stat
	du = diff @{upstream}...
	dw = diff --color-words

	fa = fetch --all
	cp = cherry-pick
	chry = cherry-pick
	ctags = "! dir=\"`git rev-parse --git-dir`\" && trap 'rm -f \"$dir/$$.tags\"' EXIT && git ls-files | ctags --tag-relative -L - -f\"$dir/$$.tags\" --languages=sql && mv \"$dir/$$.tags\" \"$dir/tags\""
	pr = pull-request
	ff = merge --ff-only

	churn = "!f() { git --no-pager log --all --find-renames --find-copies --name-only --format='format:' \"$@\" | grep -v '^$' | sort | uniq -c | sort -nr | head; }; f"

	crawl = "!f() { next_commit=$(git rev-list --reverse HEAD..$1 | head -1); : ${next_commit:=$1}; git checkout $next_commit; }; f"

	ghprs = "!f() { remote=$1; : ${remote:=$(git remote | grep '^origin\\|upstream$' | sort --reverse | head -1)}; if [ $remote ]; then git config --add remote.$remote.fetch +refs/pull/*/head:refs/remotes/${remote}/pr/*; echo \"added github PR refspec to fetch from ${remote}\" ; else echo 'no remote given nor upstream or origin remote'; fi; git fetch ${remote}; }; f"

	force = push --force-with-lease

[diff]
	wordRegex = [A-z0-9_]+|[^[:space:]]
	mnemonicprefix = true
	renames = true
[difftool]
	prompt = false
[merge]
	defaultToUpstream = true
	ff = false
	log = 999
	stat = true
	tool = vimdiff
[rebase]
	autosquash = true

[fetch]
	prune = true
[pull]
	rebase = preserve
	tags = true
[push]
	default = upstream
[rerere]
	enabled = 1

[hooks]
	global = ~/.config/git/hooks

[init]
	; templatedir = ~/.config/git/template

[advice]
	statusHints = false

[format]
	pretty=format:%C(yellow)%h%C(reset) -%C(red)%d%C(reset) %s %C(green)(%ar) %C(bold blue)%an%C(reset)

[color]
	branch = auto
	diff = auto
	grep = auto
	interactive = auto
	showbranch = auto
	status = auto
	ui = auto
[color "branch"]
	current = reverse green
	local = normal
	remote = red
  #plain = auto
[color "diff"]
	old = red
	new = green
	plain = normal
	whitespace = reverse normal
	meta = reverse cyan
	frag = ul cyan
	func = magenta
#  commit =
[color "status"]
	header = normal
	added = blue
	changed = green
	untracked = cyan
	branch = reverse normal
	nobranch = red

[sendemail]
	smtpserver = smtp.gmail.com
	smtpserverport = 587
	smtpencryption = tls
	smtpuser = jason@testdouble.com
	smtppass = { see .config/git/config.local }

[filter "media"]
	clean = git-media-clean %f
	smudge = git-media-smudge %f

[filter "hawser"]
	clean = git hawser clean %f
	smudge = git hawser smudge %f
	required = true
[filter "lfs"]
	clean = git-lfs clean %f
	smudge = git-lfs smudge %f
	required = true

[url "git@github.com:"]
	insteadOf = gh:
	insteadOf = ghub:
	insteadOf = github:
	; insteadOf = https://github.com/
	insteadOf = http://github.com/

[svn]
	authorsfile = /Users/jasonkarns/.config/git/svn-authors

[include]
	path = config.local
