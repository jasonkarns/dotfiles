[core]
	excludesfile = ~/.config/git/ignore
	editor = vim
	autocrlf = input
#  safecrlf = warn
	hideDotFiles = dotGitOnly
	pager = less -+$LESS -FRX
[user]
	name = Jason Karns
	email = jason@karns.name
[github]
	user = jasonkarns
[hub]

[hooks]
	global = ~/.config/git/hooks

[alias]
	st = status
	ci = commit
	br = branch
	co = checkout
	cam = commit --amend -C HEAD
	hist = log --graph --date=short --pretty=format:\"%C(yellow)%h%C(reset) %C(green)%ad%C(reset) %C(red)|%C(reset) %s%C(red)%d %C(reset)- %an%C(reset)\"
	glog = log --date=relative

	ap = add -p
	cop = checkout -p
	rp = reset -p

	d = diff
	dc = diff --cached
	ds = diff --stat
	dw = diff --word-diff

	fa = fetch --all -p
	cp = cherry-pick
	chry = cherry-pick
	ctags = !~/bin/ctags
	pr = pull-request
	ff = merge --ff-only

	churn = "!f() { git --no-pager log --all --find-renames --find-copies --name-only --format='format:' \"$@\" | grep -v '^$' | sort | uniq -c | sort -nr | head; }; f"

	crawl = "!f() { next_commit=$(git rev-list --reverse HEAD..$1 | head -1); : ${next_commit:=$1}; git checkout $next_commit; }; f"

	ghprs = "!f() { remote=$1; : ${remote:=$(git remote | grep '^origin\\|upstream$' | sort --reverse | head -1)}; if [ $remote ]; then git config --add remote.$remote.fetch +refs/pull/*/head:refs/remotes/${remote}/pr/*; echo \"added github PR refspec to fetch from ${remote}\" ; else echo 'no remote given nor upstream or origin remote'; fi; git fetch ${remote}; }; f"

[diff]
	wordRegex = [A-z0-9_]+|[^[:space:]]
	mnemonicprefix = true
	renames = true
[difftool]
	prompt = false
[merge]
	defaultToUpstream = true
	ff = false
	log = 999
	stat = true
[rebase]
	autosquash = true

[pull]
	rebase = true
[push]
	default = upstream
[rerere]
	enabled = 1

[format]
	pretty=format:%C(yellow)%h%C(reset) -%C(red)%d%C(reset) %s %C(green)(%ar) %C(bold blue)%an%C(reset)

[branch]
	autosetupmerge = true
	autosetuprebase = always

[advice]
	statusHints = false

[init]
	templatedir = ~/.config/git/template

[color]
	branch = auto
	diff = auto
	grep = auto
	interactive = auto
	showbranch = auto
	status = auto
	ui = auto
[color "branch"]
	current = reverse green
	local = normal
	remote = red
  #plain = auto
[color "diff"]
	old = red
	new = green
	plain = normal
	whitespace = reverse normal
	meta = reverse cyan
	frag = ul cyan
	func = magenta
#  commit =
[color "status"]
	header = normal
	added = blue
	changed = green
	untracked = cyan
	branch = reverse normal
	nobranch = red

[sendemail]
	smtpserver = smtp.gmail.com
	smtpserverport = 587
	smtpencryption = tls
	smtpuser = jason@testdouble.com
	smtppass = { see .config/git/config.local }

[filter "media"]
	clean = git-media-clean %f
	smudge = git-media-smudge %f

[url "git@github.com:"]
	insteadOf = gh:
	insteadOf = ghub:
	insteadOf = github:
	insteadOf = https://github.com/
	insteadOf = http://github.com/

[include]
	path = config.local
[hub]
	host = github.shuttercorp.net
