set nocompatible

" xdg setup
set backupdir=$XDG_CACHE_HOME/vim,/var/tmp,/tmp
set directory=$XDG_CACHE_HOME/vim,/var/tmp,/tmp
set viminfo+=n$XDG_CACHE_HOME/vim/viminfo
set runtimepath=$XDG_CONFIG_HOME/vim,$XDG_CONFIG_HOME/vim/after,$VIM,$VIMRUNTIME

source $XDG_CONFIG_HOME/vim/vundles
source $XDG_CONFIG_HOME/vim/ui
source $XDG_CONFIG_HOME/vim/keys

if executable('ag')
  " Use ag over grep
  set grepprg=ag\ --nogroup\ --nocolor

  if exists(':CtrlP')
    " Use ag in CtrlP for listing files
    let g:ctrlp_user_command = 'ag %s -l --nocolor -g ""'

    " ag is fast enough that CtrlP doesn't need to cache
    let g:ctrlp_use_caching = 0
  endif

endif

" automatically source vimrc if writing .vimrc or vimrc
" autocmd! BufWritePost .vimrc source $MYVIMRC
